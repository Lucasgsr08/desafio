<mvc:View
    controllerName="com.todoapp.controller.Detail"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    displayBlock="true">
    
    <Page
        id="detailPage"
        title="Detalhes da Tarefa"
        showNavButton="true"
        navButtonPress="onNavBack">
        
        <headerContent>
            <Button
                icon="sap-icon://refresh"
                tooltip="Atualizar detalhes"
                press=".onRefresh"/>
        </headerContent>
        
        <content>
            <VBox class="sapUiSmallMargin">
                <BusyIndicator
                    text="Carregando detalhes..."
                    visible="{todoModel>/busy}"
                    class="sapUiSmallMarginBottom"/>
                
                <f:SimpleForm
                    editable="false"
                    layout="ResponsiveGridLayout"
                    title="Informações da Tarefa"
                    labelSpanXL="4"
                    labelSpanL="4"
                    labelSpanM="4"
                    labelSpanS="12"
                    adjustLabelSpan="false"
                    emptySpanXL="0"
                    emptySpanL="0"
                    emptySpanM="0"
                    emptySpanS="0"
                    columnsXL="2"
                    columnsL="2"
                    columnsM="2">
                    
                    <f:content>
                        <Label text="ID"/>
                        <Text text="{todoModel>/selectedTodo/id}"/>
                        
                        <Label text="ID do Usuário"/>
                        <Text text="{todoModel>/selectedTodo/userId}"/>
                        
                        <Label text="Título"/>
                        <Text text="{todoModel>/selectedTodo/title}" 
                            class="{= ${todoModel>/selectedTodo/completed} ? 'completed-task' : null }"/>
                        
                        <Label text="Status"/>
                        <ObjectStatus
                            text="{= ${todoModel>/selectedTodo/completed} ? 'Concluída' : 'Incompleta' }"
                            state="{= ${todoModel>/selectedTodo/completed} ? 'Success' : 'Warning' }"/>
                        
                        <Label text="Pode marcar como incompleta?"/>
                        <ObjectStatus
                            text="{= ${todoModel>/selectedTodo/completed} ? 'Verificar limite' : 'Sim' }"
                            state="{= ${todoModel>/selectedTodo/completed} ? 'Information' : 'None' }"/>
                    </f:content>
                </f:SimpleForm>
                
                <Panel headerText="Informações de Regras de Negócio" expandable="true" expanded="false">
                    <Text text="Cada usuário pode ter no máximo 5 tarefas incompletas. Se um usuário tentar marcar uma 6ª tarefa como incompleta, a API retornará um erro HTTP 400." 
                          class="sapUiSmallMargin"/>
                </Panel>
            </VBox>
        </content>
    </Page>
</mvc:View>